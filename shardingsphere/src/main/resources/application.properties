server.port=8080

#版本存在不兼容
spring.main.allow-bean-definition-overriding=true


mybatis.mapper-locations=classpath:mapper/*Mapper.xml
mybatis.type-aliases-package=com.sharding.shardingsphere.domain


spring.shardingsphere.datasource.names=master,slave

#master datasource
spring.shardingsphere.datasource.master.type=com.alibaba.druid.pool.DruidDataSource
spring.shardingsphere.datasource.master.driver-class-name=com.mysql.cj.jdbc.Driver
spring.shardingsphere.datasource.master.url=jdbc:mysql://localhost:3306/test?useSSL=true&useUnicode=true&characterEncoding=UTF-8&characterSetResults=UTF-8&zeroDateTimeBehavior=convertToNull&serverTimezone=GMT
spring.shardingsphere.datasource.master.username=root
spring.shardingsphere.datasource.master.password=123

#slave datasource
spring.shardingsphere.datasource.slave.type=com.alibaba.druid.pool.DruidDataSource
spring.shardingsphere.datasource.slave.driver-class-name=com.mysql.cj.jdbc.Driver
spring.shardingsphere.datasource.slave.url=jdbc:mysql://localhost:3306/test2?useSSL=true&useUnicode=true&characterEncoding=UTF-8&characterSetResults=UTF-8&zeroDateTimeBehavior=convertToNull&serverTimezone=GMT
spring.shardingsphere.datasource.slave.username=root
spring.shardingsphere.datasource.slave.password=123

#data serapate rule
#table separate
spring.shardingsphere.sharding.tables.t_user.actual-data-nodes=master.t_user_$->{0..2}
spring.shardingsphere.sharding.tables.t_user.table-strategy.inline.sharding-column=userid
spring.shardingsphere.sharding.tables.t_user.table-strategy.inline.algorithm-expression=t_user_$->{userid % 3}

#database separate


#separate read write
spring.shardingsphere.masterslave.load-balance-algorithm-type=round_robin
spring.shardingsphere.masterslave.name=ms
spring.shardingsphere.masterslave.master.master-data-source-name=master
spring.shardingsphere.masterslave.master.slave-data-source-names=slave


#print sql log
spring.shardingsphere.props.sql.show=true
